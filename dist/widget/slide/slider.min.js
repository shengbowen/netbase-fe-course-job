!function(e){function t(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}function i(t){e.extend(this,t),this.container=this.container||document.body,this.container.style.overflow="hidden",this.animateTime=this.animateTime||500,this.interval=this.interval||5e3,this.slider=this._layout.cloneNode(!0),this.slides=e.slice(this.slider.querySelectorAll(".slide")),this.pageNum=this.images.length,this.slideIndex=1,this.pageIndex=this.pageIndex||0,this.lastIndex=0,this.timer=null,this.autoTimer=null,this.container.appendChild(this.slider)}var s='<div class="m-slider">                        <div class="slide"></div>                        <div class="slide"></div>                        <div class="slide"></div>                    </div>';e.extend(i.prototype,e.emitter),e.extend(i.prototype,{_layout:t(s),nav:function(e){var t=e-this.lastIndex||0;this._step(t)},autoPlay:function(){clearInterval(this.autoTimer);var e=this;this.autoTimer=setInterval(function(){e.next()},e.interval)},stop:function(){clearInterval(this.autoTimer)},next:function(){this._step(1)},prev:function(){this._step(-1)},_step:function(e){this.pageIndex+=e,this.slideIndex+=e%3,this.lastIndex=this.pageIndex,this._calcSlide()},_fadeIn:function(e){var t=0,i=.1,s=1/i,n=this.animateTime/s;clearTimeout(this.timer);var a=this,d=function(){t<1?(t+=.1,e.style.opacity=t,a.timer=setTimeout(d,n)):e.style.opacity=1};d()},_calcSlide:function(){var t=this.slideIndex=this._normIndex(this.slideIndex,3),i=(this.pageIndex=this._normIndex(this.pageIndex,this.pageNum),this.pageNum,this.slides);i.forEach(function(t){e.delClass(t,"z-active"),t.style.opacity=0,t.style.zIndex=0}),this._fadeIn(i[t]),i[t].style.zIndex=1,e.addClass(i[t],"z-active"),this._onNav(this.pageIndex,this.slideIndex)},_normIndex:function(e,t){return(t+e)%t},_onNav:function(e,t){for(var i=this.slides,s=-1;s<=1;s++){var n=(t+s+3)%3,a=i[n].querySelector("img"),d=i[n].querySelector("a");a||(d=document.createElement("a"),a=document.createElement("img"),d.appendChild(a),i[n].appendChild(d)),d.href=this.links[this._normIndex(e+s,this.pageNum)],d.target="_blank",a.src=a.src=this.images[this._normIndex(e+s,this.pageNum)]}this.emit("nav",{pageIndex:e,slideIndex:t})}}),window.Slider=i}(util);